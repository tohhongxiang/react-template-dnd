{"version":3,"sources":["components/Editor/ContentEditorItem.module.scss","components/WidgetList/index.module.scss","components/Editor/index.module.scss","components/Editor/ActiveWidget.module.scss","App.module.scss","components/Editor/ActiveWidget.tsx","components/Editor/DisplayWidget.tsx","components/Editor/ContentEditorItem.tsx","components/Editor/index.tsx","components/WidgetList/index.tsx","widgetData.ts","index.tsx","App.tsx"],"names":["module","exports","ActiveWidget","widget","updateWidget","ref","useRef","renderWidgetEditableFields","overallIndex","overallIndexKey","join","editProps","Object","entries","props","map","key","renderLabelWithInput","editInnerText","innerText","type","editFields","fields","field","index","console","log","name","editField","className","styles","fieldGroup","onClick","updatedValues","Array","from","current","querySelectorAll","input","result","arrayIndices","id","split","category","length","value","htmlFor","defaultValue","DisplayWidget","renderWidget","indices","overallProps","style","dangerouslySetInnerHTML","__html","React","createElement","ContentEditorItem","focus","focusWidget","deleteWidget","draggableId","provided","draggableProps","innerRef","contentEditorItem","dragActions","dragHandleProps","dragHandle","Editor","items","droppableId","editorRoot","droppableProps","item","placeholder","WidgetList","widgets","isDropDisabled","widgetListRoot","snapshot","isDragging","widgetListItemClone","widgetData","margin","src","alt","display","color","href","target","rel","gridTemplateColumns","gridGap","flexDirection","textAlign","justifyContent","alignItems","maxWidth","maxHeight","border","width","height","ReactDOM","render","useState","setItems","sequence","setSequence","setFocus","layout","onDragEnd","to","source","destination","widgetId","replace","insertedWidget","generatedId","Date","now","toString","prevItems","prevSequence","updatedSequence","splice","insertWidget","itemToMove","updatedWidget","reduce","accum","recursiveUpdate","objectToUpdate","updatedField","allFields","JSON","parse","stringify","fieldToUpdate","updateField","slice","indexToFocus","prevSeq","updatedSeq","updatedItems","document","querySelector"],"mappings":"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","file":"static/js/main.cf17b99a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentEditorItem\":\"ContentEditorItem_contentEditorItem__2QJko\",\"dragActions\":\"ContentEditorItem_dragActions__35NwQ\",\"dragHandle\":\"ContentEditorItem_dragHandle__242wK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"widgetListRoot\":\"WidgetList_widgetListRoot__2LIaA\",\"widgetListItemClone\":\"WidgetList_widgetListItemClone__2lL6T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editorRoot\":\"Editor_editorRoot__jZ_IS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldGroup\":\"ActiveWidget_fieldGroup__3yAx6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"App_layout__11VGl\"};","import React, { useRef } from 'react'\nimport { Widget } from '../../widgetData'\nimport styles from './ActiveWidget.module.scss'\n\ninterface ActiveWidgetProps {\n    widget: Widget,\n    updateWidget: (updatedValues: any) => void\n}\n\nexport default function ActiveWidget({widget, updateWidget}: ActiveWidgetProps) {\n    const ref = useRef<HTMLDivElement>(null)\n    const handleSubmit = () => {\n        const updatedValues = Array.from(ref.current!.querySelectorAll('input')).map(input => {\n            const result : {props: {[key: string]: any}, arrayIndices: string[], [key: string]: any} = {props: {}, arrayIndices: []}\n            \n            const [category, key, ...arrayIndices] = input.id.split('-')\n            if (arrayIndices.length === 1 && arrayIndices[0] === \"\") {\n                result.arrayIndices = []\n            } else {\n                result.arrayIndices = arrayIndices\n            }\n\n            if (category) {\n                result[category][key] = input.value\n            } else {\n                result[key] = input.value\n            }\n            return result\n        })\n        updateWidget(updatedValues)\n    }\n\n    return (\n        <div ref={ref}>\n            {renderWidgetEditableFields(widget)}\n            <button onClick={handleSubmit}>OK</button>\n        </div>\n    )\n}\n\nfunction renderWidgetEditableFields(widget: Widget, overallIndex: number[] = []) : any {\n    const overallIndexKey = overallIndex.join('-')\n    const editProps = Object.entries(widget.props).map(([key, value]) => renderLabelWithInput(key, value, `props-${key}-${overallIndexKey}`))\n    const editInnerText = widget.innerText ? renderLabelWithInput(widget.type, widget.innerText, `-innerText-${overallIndexKey}`) : null\n    const editFields = widget.fields.map((field, index) => renderWidgetEditableFields(field, [...overallIndex, index]))\n    console.log(widget)\n    return (\n        <div key={overallIndexKey}>\n            <strong>{widget.name}</strong>\n            {editProps}\n            {editInnerText}\n            {editFields.map((editField, index) => (\n                <div className={styles.fieldGroup} key={index}>\n                    {editField}\n                </div>\n            ))}\n        </div>\n    )\n}\n\nfunction renderLabelWithInput(key: string, value: any, id: string) {\n    return (\n        <div key={id}>\n            <label htmlFor={id}>{key}</label>\n            <input id={id} defaultValue={value}/>\n        </div>\n    )\n}\n\n// function renderEditableField(field: Widget, index: string[]) {\n//     const joinedIndex = index.join('-')\n//     return (\n//         <div key={joinedIndex}>\n//             {field.innerText && <>\n//                 <label htmlFor={`innerText-${joinedIndex}`}>{field.type}</label>\n//                 <input id={`innerText-${joinedIndex}`} defaultValue={field.innerText} />\n//             </>}\n//             {Object.entries(field.props).map(([key, value]) => (\n//                 <div key={key}>\n//                     <label htmlFor={`${key}-${joinedIndex}`}>{key}</label>\n//                     <input id={`${key}-${joinedIndex}`} defaultValue={value as string}/>\n//                 </div>\n//             ))}\n//         </div>\n//     )\n// }\n","import { Widget } from '../../widgetData'\nimport React from 'react'\n\ninterface DisplayWidgetProps {\n    widget: Widget\n}\n\nexport default function DisplayWidget({ widget }: DisplayWidgetProps) {\n    return renderWidget(widget)\n}\n\n// TODO remove the usage of dangerouslySetInnerHTML\nfunction renderWidget(widget: Widget, indices: number[] = []): any {\n    const overallProps: {[key: string]: any} = {\n        ...widget.props, \n        style: widget.style, \n        key: indices.join('-')\n    }\n\n    if (widget.innerText) {\n        overallProps.dangerouslySetInnerHTML = {__html: widget.innerText}\n    }\n    \n    return React.createElement(\n        widget.type,\n        overallProps,\n        widget.fields.length > 0 ? \n            widget.fields.map((field, index) => renderWidget(field, [...indices, index])) : null\n    )\n}","import React from 'react'\nimport { Draggable } from 'react-beautiful-dnd'\nimport ActiveWidget from './ActiveWidget'\nimport DisplayWidget from './DisplayWidget'\nimport { Widget } from '../../widgetData'\nimport styles from './ContentEditorItem.module.scss'\n\ninterface WidgetProps {\n    index: number,\n    focus: number | null,\n    widget: Widget,\n    updateWidget: (value: any) => void,\n    focusWidget: () => void,\n    deleteWidget: () => void\n}\n\nexport default function ContentEditorItem({index, focus, widget, updateWidget, focusWidget, deleteWidget}: WidgetProps) {\n    return (\n        <Draggable draggableId={`${index}`} index={index}>\n            {provided => (\n                <div {...provided.draggableProps} ref={provided.innerRef} className={styles.contentEditorItem}>\n                    <div className={styles.dragActions}>\n                        <div {...provided.dragHandleProps} className={styles.dragHandle} />\n                        {focus !== index && <button onClick={focusWidget}>Edit</button>}\n                        <button onClick={deleteWidget}>Delete</button>\n                    </div>\n                    {\n                        focus === index ? \n                        <ActiveWidget widget={widget} updateWidget={updateWidget} key={index} /> :\n                        <DisplayWidget widget={widget} key={index} />\n                    }\n                </div>\n            )}\n        </Draggable>\n    )\n}\n","import React from 'react'\nimport styles from './index.module.scss'\nimport { Widget } from '../../widgetData'\nimport {Droppable} from 'react-beautiful-dnd'\nimport ContentEditorItem from './ContentEditorItem'\n\ninterface EditorProps {\n    items: Widget[],\n    focus: number | null,\n    focusWidget: (index: number) => () => void,\n    updateWidget: (index: number) => (value: any) => void,\n    deleteWidget: (index: number) => () => void\n}\n\nexport default function Editor({items, focus, focusWidget, updateWidget, deleteWidget}: EditorProps) {\n    return (\n        <Droppable droppableId=\"editor\">\n            {(provided) => (\n                <div className={styles.editorRoot} {...provided.droppableProps} ref={provided.innerRef}>\n                    {items.map((item, index) => <ContentEditorItem \n                        key={index}\n                        index={index} \n                        focus={focus} \n                        widget={item} \n                        updateWidget={updateWidget(index)} \n                        focusWidget={focusWidget(index)}\n                        deleteWidget={deleteWidget(index)}\n                    />)}\n                    {provided.placeholder}\n                </div>\n            )}\n        </Droppable>\n    )\n}\n","import React from 'react'\nimport styles from './index.module.scss'\nimport { Widget } from '../../widgetData'\nimport { Droppable, Draggable } from 'react-beautiful-dnd'\n\ninterface WidgetListProps {\n    widgets: {\n        [key: string]: Widget\n    }\n}\n\nexport default function WidgetList({widgets} : WidgetListProps) {\n    return (\n        <Droppable droppableId=\"widget-list\" isDropDisabled={true}>\n            {provided => (\n                <div className={styles.widgetListRoot} {...provided.droppableProps} ref={provided.innerRef}>\n                    {Object.entries(widgets).map(([id, widget], index) => (\n                        <Draggable draggableId={`widget-${id}`} index={index} key={id}>\n                            {(provided, snapshot) => (\n                                <>\n                                    <div {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef}>\n                                        <p>{widget.name}</p>\n                                    </div>\n                                    {snapshot.isDragging && <div className={styles.widgetListItemClone}><p>{widget.name}</p></div>}\n                                </>\n                            )}\n                        </Draggable>\n                    ))}\n                    {provided.placeholder}\n                </div>\n            )}\n        </Droppable>\n        \n    )\n}\n","export type Widget = {\n    id?: string,\n    name: string,\n    type: string,\n    style: {[key: string]: any},\n    props: {[key: string]: any},\n    fields: Widget[]\n    innerText?: string,\n}\n\nconst widgetData : {[key: string]: Widget} = {\n    'TEXT_MODULE': {\n        id: \"TEXT_MODULE\",\n        name: \"Text Module\",\n        type: \"div\",\n        style: {},\n        props: {},\n        fields: [\n            {\n                name: \"Title\",\n                type: \"h1\",\n                style: {},\n                props: {},\n                fields: [],\n                innerText: \"This is the header\",\n            },\n            {\n                name: \"Description\",\n                type: \"p\",\n                style: {},\n                props: {},\n                fields: [],\n                innerText: \"This is the <strong>description</strong>\",\n            },\n        ]\n    },\n    'IMAGE_MODULE': {\n        id: \"IMAGE_MODULE\",\n        name: \"Image Module\",\n        type: \"div\",\n        style: {\n            margin: '20px'\n        },\n        props: {},\n        fields: [\n            {\n                name: \"IMAGE\",\n                type: \"img\",\n                style: {},\n                props: {\n                    src: 'https://http.cat/206',\n                    alt: 'Nice cat'\n                },\n                fields: []\n            }\n        ]\n    },\n    'TEXT_2_3_COLUMNS': {\n        id: \"TEXT_2_3_COLUMNS\",\n        name: 'Text 2/3 Columns',\n        type: \"div\",\n        style: {\n            display: 'flex'\n        },\n        props: {},\n        fields: [\n            {\n                id: \"1\",\n                name: \"TEXT_MODULE\",\n                type: \"div\",\n                style: {},\n                props: {},\n                fields: [\n                    {\n                        name: \"Title\",\n                        type: \"h1\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Column 1 header\",\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Column 1 description\",\n                    },\n                ]\n            },\n            {\n                id: \"1\",\n                name: \"TEXT_MODULE\",\n                type: \"div\",\n                style: {},\n                props: {},\n                fields: [\n                    {\n                        name: \"Title\",\n                        type: \"h1\",\n                        style: {\n                            color: 'red'\n                        },\n                        props: {},\n                        fields: [],\n                        innerText: \"Column two header\",\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Col 2 desc\",\n                    },\n                ]\n            },\n            {\n                id: \"1\",\n                name: \"TEXT_MODULE\",\n                type: \"div\",\n                style: {},\n                props: {},\n                fields: [\n                    {\n                        name: \"Title\",\n                        type: \"h1\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Column 3 header\",\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Col three desc\",\n                    },\n                ]\n            }\n        ]\n    },\n    'LINK_BUTTON': {\n        id: \"LINK_BUTTON\",\n        name: \"Link Button\",\n        type: \"a\",\n        style: {},\n        props: {\n            href: 'https://www.google.com',\n            target: '_blank',\n            rel: 'noopener noreferrer'\n        },\n        fields: [\n            {\n                name: 'BUTTON',\n                type: 'button',\n                style: {},\n                props: {},\n                fields: [],\n                innerText: 'This is the button label'\n            }\n        ],\n    },\n    'HORIZONTAL_BOX_MODULE': {\n        id: \"HORIZONTAL_BOX_MODULE\",\n        name: \"Horizontal Box Module\",\n        type: \"div\",\n        style: {\n            display: 'grid',\n            gridTemplateColumns: 'auto 1fr auto',\n            gridGap: '20px'\n        },\n        props: {},\n        fields: [\n            {\n                name: \"IMAGE\",\n                type: \"img\",\n                style: {},\n                props: {\n                    src: \"http://htmltest.ieplsg.com/resources/image/ExpressVPN-svg.png\",\n                    alt: \"ExpressVPN\"\n                },\n                fields: []\n            },\n            {\n                id: \"1\",\n                name: \"TEXT_MODULE\",\n                type: \"div\",\n                style: {},\n                props: {},\n                fields: [\n                    {\n                        name: \"Title\",\n                        type: \"h1\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"ExpressoVPN\",\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Test ExpressoVPNâ€™s full arsenal for a whopping 30 days without spending anything. See for yourself what this service is about. Most popular VPN of 2019.\",\n                    },\n                ]\n            },\n            {\n                name: \"BUTTON_GROUP\",\n                type: \"div\",\n                style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    textAlign: 'center'\n                },\n                props: {},\n                fields: [\n                    {\n                        name: \"LINK_BUTTON\",\n                        type: \"a\",\n                        style: {},\n                        props: {\n                            href: 'https://www.google.com',\n                            target: '_blank',\n                            rel: 'noopener noreferrer'\n                        },\n                        fields: [\n                            {\n                                name: 'BUTTON',\n                                type: 'button',\n                                style: {},\n                                props: {},\n                                fields: [],\n                                innerText: 'Download expressVPN for $69.99'\n                            }\n                        ],\n                    },\n                    {\n                        id: \"4\",\n                        name: \"LINK_BUTTON\",\n                        type: \"a\",\n                        style: {},\n                        props: {\n                            href: 'https://www.google.com',\n                            target: '_blank',\n                            rel: 'noopener noreferrer'\n                        },\n                        fields: [\n                            {\n                                name: 'BUTTON',\n                                type: 'button',\n                                style: {},\n                                props: {},\n                                fields: [],\n                                innerText: 'Show me how to surpass the great firewall'\n                            }\n                        ],\n                    }\n                ]\n            }\n        ]\n    },\n    'TEXT_WITH_GRAPHIC': {\n        id: 'TEXT_WITH_GRAPHIC',\n        name: 'Text with Graphic',\n        type: 'div',\n        style: {\n            display: 'flex',\n            justifyContent: 'space-around',\n            alignItems: 'center'\n        },\n        props: {},\n        fields: [\n            {\n                id: \"2\",\n                name: \"IMAGE_MODULE\",\n                type: \"div\",\n                style: {\n                    margin: '20px',\n                    maxWidth: '300px',\n                    maxHeight: '300px'\n                },\n                props: {},\n                fields: [\n                    {\n                        name: \"IMAGE\",\n                        type: \"img\",\n                        style: {},\n                        props: {\n                            src: 'http://htmltest.ieplsg.com/resources/image/Robots_logo.svg',\n                            alt: 'Redux is the best :)'\n                        },\n                        fields: []\n                    }\n                ]\n            },\n            {\n                name: \"Title\",\n                type: \"h1\",\n                style: {},\n                props: {},\n                fields: [],\n                innerText: \"WHAT IS HARDWARE\",\n            },\n        ]\n    },\n    '1_6_BOX_MODULE': {\n        id: '1_6_BOX_MODULE',\n        name: '1/6 Box Module',\n        type: 'div',\n        style: {\n            display: 'flex'\n        },\n        props: {},\n        fields: [\n            {\n                name: 'BOX_MODULE',\n                type: 'a',\n                style: {\n                    border: '1px solid #ccc'\n                },\n                props: {\n                    href:\"https://www.reddit.com\",\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                fields: [\n                    {\n                        name: \"IMAGE\",\n                        type: \"img\",\n                        style: {\n                            width: '100px',\n                            height: '100px',\n                            margin: '0 auto'\n                        },\n                        props: {\n                            src: 'http://htmltest.ieplsg.com/resources/image/communication-1.png',\n                            alt: 'Redux is the best :)'\n                        },\n                        fields: []\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Cannot communicate\"\n                    }\n                ]\n            },\n            {\n                name: 'BOX_MODULE',\n                type: 'div',\n                style: {\n                    border: '1px solid #ccc'\n                },\n                props: {},\n                fields: [\n                    {\n                        name: \"IMAGE\",\n                        type: \"img\",\n                        style: {\n                            width: '100px',\n                            height: '100px',\n                            margin: '0 auto'\n                        },\n                        props: {\n                            src: 'http://htmltest.ieplsg.com/resources/image/communication-1.png',\n                            alt: 'Redux is the best :)'\n                        },\n                        fields: []\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Cannot communicate\"\n                    }\n                ]\n            },\n            {\n                name: 'BOX_MODULE',\n                type: 'div',\n                style: {\n                    border: '1px solid #ccc'\n                },\n                props: {},\n                fields: [\n                    {\n                        name: \"IMAGE\",\n                        type: \"img\",\n                        style: {\n                            width: '100px',\n                            height: '100px',\n                            margin: '0 auto'\n                        },\n                        props: {\n                            src: 'http://htmltest.ieplsg.com/resources/image/communication-1.png',\n                            alt: 'Redux is the best :)'\n                        },\n                        fields: []\n                    },\n                    {\n                        name: \"Description\",\n                        type: \"p\",\n                        style: {},\n                        props: {},\n                        fields: [],\n                        innerText: \"Cannot communicate\"\n                    }\n                ]\n            }\n        ]\n    }\n} \n\nexport default widgetData","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.querySelector('#root'))","import React, { useState } from 'react'\nimport './App.scss'\nimport Editor from './components/Editor'\nimport WidgetList from './components/WidgetList'\nimport styles from './App.module.scss'\nimport widgetData, { Widget } from './widgetData'\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd'\n\nexport default function App() {\n    const [items, setItems] = useState<{[key: string]: Widget}>({})\n    const [sequence, setSequence] = useState<string[]>([])\n    const [focus, setFocus] = useState<number | null>(null)\n\n    const updateWidget = (index: number) => (updatedValues: any) => {\n        const id = sequence[index]\n        const updatedWidget = updatedValues.reduce((accum: Widget, value: any) => {\n            return recursiveUpdate(value.arrayIndices, accum, value)\n        }, items[id])\n\n        setItems(prevItems => ({\n            ...prevItems,\n            [id]: updatedWidget\n        }))\n        setFocus(null)\n\n        function recursiveUpdate(arrayIndices: number[], objectToUpdate: Widget, updatedField: Widget): Widget {\n            if (arrayIndices.length === 0) {\n                return {\n                    ...objectToUpdate,\n                    props: {...objectToUpdate.props, ...updatedField.props},\n                    style: {...objectToUpdate.style, ...updatedField.style}\n                }\n            } else if (arrayIndices.length === 1) {\n                const allFields : Widget['fields'] = JSON.parse(JSON.stringify(objectToUpdate.fields))\n                const fieldToUpdate = allFields[arrayIndices[0]]\n                allFields.splice(arrayIndices[0], 1, {\n                    ...fieldToUpdate, \n                    ...updatedField, \n                    props: {...fieldToUpdate.props, ...updatedField.props}, \n                    style: {...fieldToUpdate.style, ...updatedField.style}\n                })\n\n                return {\n                    ...objectToUpdate,\n                    fields: allFields\n                }\n            } else {\n                const updateField : Widget['fields'] = JSON.parse(JSON.stringify(objectToUpdate.fields))\n                updateField.splice(arrayIndices[0], 1, recursiveUpdate(arrayIndices.slice(1), updateField[arrayIndices[0]], updatedField))\n                return {\n                    ...objectToUpdate,\n                    fields: updateField\n                }\n            }\n        }\n    }\n    \n    const focusWidget = (indexToFocus: number) => () => setFocus(indexToFocus)\n    \n    const handleDragEnd = (result: DropResult) => {\n        const { source, destination, draggableId } = result\n        \n        if (!destination) return\n        if (destination.droppableId === source.droppableId && destination.index === source.index) return\n        \n        if (source.droppableId !== destination.droppableId && destination.index !== null) {\n            insertWidget(draggableId, destination.index)\n        } else {\n            reorderWidget(source.index, destination.index)\n        }\n        \n        function insertWidget(widgetId: string, destination: number) {\n            const id = widgetId.replace('widget-', '')\n            const insertedWidget = widgetData[id]\n            const generatedId = `${Date.now().toString()}-${id}`\n            setItems(prevItems => ({\n                ...prevItems,\n                [generatedId]: insertedWidget\n            }))\n            return setSequence(prevSequence => {\n                const updatedSequence = Array.from(prevSequence)\n                updatedSequence.splice(destination, 0, generatedId)\n                return updatedSequence\n            })\n        }\n\n        function reorderWidget(from: number, to: number) {\n            setSequence(prevSequence => {\n                const updatedSequence = Array.from(prevSequence)\n                const itemToMove = updatedSequence.splice(from, 1)[0]\n                updatedSequence.splice(to, 0, itemToMove)\n                return updatedSequence\n            })\n        }\n    }\n\n    const deleteWidget = (index: number) => () => {\n        const id = sequence[index]\n        console.log({id, sequence, items})\n\n        setSequence(prevSeq => {\n            const updatedSeq = [...prevSeq]\n            updatedSeq.splice(index, 1)\n            return updatedSeq\n        })\n\n        setItems(prevItems => {\n            const updatedItems = JSON.parse(JSON.stringify(prevItems))\n            delete updatedItems[id]\n            return updatedItems\n        })\n    }\n\n    return (\n        <div className={styles.layout}>\n            <DragDropContext onDragEnd={handleDragEnd}>\n                <Editor items={sequence.map(id => items[id])} \n                focus={focus} updateWidget={updateWidget} \n                focusWidget={focusWidget} deleteWidget={deleteWidget}\n                />\n                <WidgetList widgets={widgetData}/>\n            </DragDropContext>\n        </div>\n    )\n}\n"],"sourceRoot":""}